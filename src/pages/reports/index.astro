---
import SiteLayout from "../../layouts/SiteLayout.astro";

const modules = await Astro.glob("./*.md");
const reports = modules
  .map((m) => ({
    url: m.url,
    ...m.frontmatter,
  }))
  .sort((a, b) => new Date(b.date || 0) - new Date(a.date || 0));
---

<SiteLayout title="Reports | Beyond Paralysis">
  <h1>Reports</h1>
  <p>Long-form deep dives you can read and share.</p>

  <div class="grid">
    {reports.map((r) => (
      <a class="card" href={r.url}>
        <h2>{r.title}</h2>
        {r.description && <p class="desc">{r.description}</p>}
        <p class="meta">
          {r.status ? r.status : ""}
        </p>
      </a>
    ))}
  </div>

  <style>
    .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); gap: 12px; margin-top: 18px; }
    .card { border: 1px solid #e9e9e9; border-radius: 14px; padding: 14px; text-decoration: none; color: inherit; }
    .card:hover { border-color: #111; }
    .desc { opacity: 0.85; }
    .meta { font-size: 13px; opacity: 0.7; }
  </style>
</SiteLayout>
