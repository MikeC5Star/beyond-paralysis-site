---
const navLinks = [
	{ href: '/', label: 'Home' },
	{ href: '/reports', label: 'Deep Dives' },
	{ href: '/news', label: 'Research Feed' },
	{ href: '/about', label: 'About Mike' },
];

const currentPath = Astro.url.pathname;

function isActive(href: string) {
	if (href === '/') return currentPath === '/';
	return currentPath.startsWith(href);
}
---

<header class="border-b border-slate-700/50 bg-clinical-bg/80 backdrop-blur-md sticky top-0 z-50">
	<nav class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-14 sm:h-20 flex items-center justify-between">
		<!-- Logo + Title -->
		<a href="/" class="flex items-center gap-2 sm:gap-3 no-underline w-[45%] sm:w-auto sm:shrink-0 min-w-0">
			<img src="/sc_icon.png" alt="" class="h-9 sm:h-[72px] w-auto shrink-0 relative top-0 sm:top-[10px]" />
			<span class="text-white font-bold text-xl sm:text-4xl tracking-tight truncate">Beyond Paralysis</span>
		</a>

		<!-- Nav Links -->
		<div class="flex items-center justify-end gap-0 sm:gap-1 w-[45%] sm:w-auto">
			{navLinks.map(link => (
				<a
					href={link.href}
					class={`nav-link text-xs sm:text-base font-medium px-2 sm:px-4 py-4 relative no-underline transition-colors ${isActive(link.href) ? 'text-clinical-accent active' : 'text-slate-300'}`}
				>
					{link.label}
				</a>
			))}
		</div>
	</nav>
</header>

<style>
	.nav-link {
		position: relative;
	}

	/* Bottom accent line */
	.nav-link::after {
		content: '';
		position: absolute;
		bottom: 0;
		left: 50%;
		transform: translateX(-50%);
		width: 0;
		height: 2px;
		background: #00e5ff;
		border-radius: 1px;
		transition: width 0.25s ease;
	}

	.nav-link:hover::after,
	.nav-link.active::after {
		width: 60%;
	}

	/* Hover glow */
	.nav-link:hover {
		color: #00e5ff;
		text-shadow: 0 0 12px rgba(0, 229, 255, 0.4);
	}

	.nav-link.active {
		text-shadow: 0 0 12px rgba(0, 229, 255, 0.3);
	}
</style>
